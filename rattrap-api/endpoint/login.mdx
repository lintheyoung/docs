---
title: '用户登录'
openapi: 'POST /auth/v1/token'
---

<RequestExample>
```bash cURL
curl -X POST \
  'https://vwinvkxxheuexvpvzibt.supabase.co/auth/v1/token?grant_type=password' \
  -H "apikey: your-supabase-anon-key" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "test1234"
  }'
```

```javascript Node.js
const res = await fetch("https://vwinvkxxheuexvpvzibt.supabase.co/auth/v1/token?grant_type=password", {
  method: "POST",
  headers: {
    "apikey": "your-supabase-anon-key",
    "Content-Type": "application/json"
  },
  body: JSON.stringify({
    email: "test@example.com",
    password: "test1234"
  })
});

const { access_token, refresh_token, user } = await res.json();
console.log(`已登录，用户: ${user.email}`);
```
</RequestExample>

<ResponseExample>
```json 成功响应
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJhdXRoZW50aWNhdGVkIi...",
  "token_type": "bearer",
  "expires_in": 3600,
  "refresh_token": "v1.MRjefG7...",
  "user": {
    "id": "d9e3f5c1-4e0a-4b5e-8f3a-1c2d3e4f5a6b",
    "email": "test@example.com"
  }
}
```

```json 错误响应
{
  "error": {
    "type": "authentication_error",
    "code": "invalid_credentials",
    "message": "Invalid email or password",
    "doc_url": "https://docs.rattrap.ai/errors#invalid_credentials"
  }
}
```
</ResponseExample>

## 使用说明

1. 替换 `your-supabase-anon-key` 为你的 Supabase 项目的 anon key
2. 使用 **Try it** 功能输入邮箱和密码
3. 点击发送请求
4. 从响应中复制 `access_token`
5. 在其他 API 页面的 Authorization 输入框中粘贴该 Token

<Note>
Token 有效期通常为 1 小时，过期后请使用 refresh_token 刷新或重新登录。
</Note>

<Warning>
所有 Supabase API 调用都需要 `apikey` 请求头。你可以在 Supabase Dashboard 的项目设置中找到 anon key。
</Warning>
